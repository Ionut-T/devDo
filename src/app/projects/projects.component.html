<app-create-project *ngIf="isOpen" (close)="isOpen = false"></app-create-project>
<div class="action">
  <button
    mat-mini-fab
    color="primary"
    matTooltip="Create new project"
    matTooltipPosition="right"
    (click)="isOpen = true"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>

<div class="container">
  <mat-card *ngFor="let project of projects$ | async" class="mat-elevation-z8">
    <mat-card-header>
      <span>{{ project.name | titlecase }}</span>
      <button mat-button color="primary" matTooltip="View project" (click)="onViewProject(project.url)">
        <mat-icon>view_list</mat-icon>
      </button>
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>
          <mat-icon color="accent">edit</mat-icon>
          <span>Edit</span>
        </button>
        <button mat-menu-item (click)="onDelete(project.name, project.id)">
          <mat-icon color="warn">delete</mat-icon>
          <span>Delete</span>
        </button>
      </mat-menu>
    </mat-card-header>
    <mat-card-content *ngIf="project.description">{{ project.description | uppercaseFirstLetter }}</mat-card-content>
  </mat-card>
</div>
